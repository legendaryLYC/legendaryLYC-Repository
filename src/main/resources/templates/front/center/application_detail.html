<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:city="http://www.w3.org/1999/xhtml">
<head th:include="front/common/_meta :: header"/>
<head>
 <link data-n-head="true" rel="icon" type="image/x-icon" href="favicon.ico.css" />
 <script data-n-head="true" th:src="@{/font/js/jquery.min.js}" src="js/jquery.min.js"></script>
 <script data-n-head="true" th:src="@{/font/js/index.js}" src="js/index.js"></script>
 <link rel="stylesheet" type="text/css" th:href="@{/font/css/el.css}" href="css/el.css" />
 <link rel="stylesheet" type="text/css" th:href="@{/font/css/auth.css}" href="css/auth.css">
 <link rel="stylesheet" type="text/css" th:href="@{/font/css/my_project.css}" href="css/my_project.css">
 <style>
  #purRemarks{
   height:5em;
  }
  textarea{
   height:5em!important;
  }
  select{
   height:2.4em;
   border: solid 1px #ddd;
   width:100%;
  }
  .fs-wrap{
   width:100%;
   position:relative;
   top:8px;
  }
  .fs-label{
   height:1.4em;
   line-height:1.4em;
  }
  .fs-options{
   pointer-events:none;
  }
 </style>
</head>
<body data-n-head="">
<div data-server-rendered="true" id="__nuxt">
 <div class="nuxt-progress" style="width:0%;height:2px;background-color:#3B8070;opacity:0;"></div>
 <div id="__layout">
  <div>
   <div data-v-d0b3a19c="">
    <!-- 公共顶部header -->
    <header th:include="front/common/_header :: header" class="header" data-v-8e52717c></header>
    <!-- 公共导航 -->
    <nav th:include="front/common/_nav :: nav" class="nav_index" data-v-bdccf15a></nav>
    <div class="asider" data-v-d0b3a19c="">
     <ul></ul>
    </div>
    <div class="membar" data-v-24a6dbce="" data-v-d0b3a19c="" th:include="front/center/_nav :: nav">
     <ul data-v-24a6dbce="">
      <li class="check" data-v-24a6dbce=""> <a href="project.htm" data-v-24a6dbce=""> 我的项目 </a> </li>
      <li data-v-24a6dbce=""> <a th:href="@{/center/information}" data-v-24a6dbce=""> 个人信息 </a> </li>
      <li data-v-24a6dbce=""> <a href="auth.htm" data-v-24a6dbce=""> 实名认证 </a> </li>
      <li data-v-24a6dbce=""> <a href="wallet.htm" data-v-24a6dbce=""> 我的账户 </a> </li>
      <li data-v-24a6dbce=""> <a th:href="@{/MessageMine/one}" data-v-24a6dbce=""> 我的消息 </a> </li>
     </ul>
    </div>
    <div class="public" data-v-d0b3a19c="">
     <div class="container" data-v-d0b3a19c="">

      <form class="el-form el-form--inline" data-v-d0b3a19c="" th:action="@{/application}" method="post">
       <input th:type="hidden" name="pageNo" id="pageNum" th:value="${pageInfo.pageNum}"/>
       <input th:type="hidden" id="pages" th:value="${pageInfo.pages}"/>
      </form>

      <div class="containerBox" data-v-d0b3a19c="">
       <div data-v-d0b3a19c="" class="el-table el-table--fit el-table--enable-row-hover"  style="width: 100%; height: 450px;">
        <div class="hidden-columns">
         <div data-v-d0b3a19c=""></div>
         <div data-v-d0b3a19c=""></div>
         <div data-v-d0b3a19c=""></div>
         <div data-v-d0b3a19c=""></div>
         <div data-v-d0b3a19c=""></div>
         <div data-v-d0b3a19c=""></div>
        </div>
        <div class="el-table__header-wrapper">
         <table class="el-table__header" style="width: 1120px;" cellspacing="0" cellpadding="0" border="0">
          <colgroup>
           <col name="el-table_2_column_7" width="25%" />
           <col name="el-table_2_column_7" width="25%" />
           <col name="el-table_2_column_7" width="25%" />
           <col name="el-table_2_column_7" width="25%" />
           <col name="gutter" width="0" />
          </colgroup>
          <thead class="has-gutter">
          <tr class="">
           <th colspan="1" rowspan="1" class="el-table_2_column_7  is-center   is-leaf">
            <div class="cell">
             设计师姓名
            </div></th>
           <th colspan="1" rowspan="1" class="el-table_2_column_8  is-center   is-leaf">
            <div class="cell">
             设计师种类
            </div></th>
           <th colspan="1" rowspan="1" class="el-table_2_column_9  is-center   is-leaf">
           <div class="cell">
            联系电话
           </div></th>
           <th colspan="1" rowspan="1" class="el-table_2_column_9  is-center   is-leaf">
            <div class="cell">
             操作
            </div></th>
           <th class="gutter" style="width: 0px; display: none;"></th>
          </tr>
          </thead>
         </table>
        </div>
        <div class="el-table__body-wrapper is-scrolling-none" style="height: 400px;">
         <table class="el-table__body el-table--striped " style="width: 1120px;" cellspacing="0" cellpadding="0" border="0">
          <colgroup>
           <col name="el-table_2_column_7" width="25%" />
           <col name="el-table_2_column_7" width="25%" />
           <col name="el-table_2_column_7" width="25%" />
           <col name="el-table_2_column_7" width="25%" />
          </colgroup>
          <tbody>
          <tr class="text-c" th:if="${pageInfo.list.size() == 0}">
           <td colspan="15"><strong>暂无设计师</strong></td>
          <tr th:each="project : ${pageInfo.list}" class="">
           <td colspan="1" rowspan="1" class="el-table_2_column_7  is-center   is-leaf">
            <div th:text="${project.getUsername()}" class="cell">
            </div></td>
           <td colspan="1" rowspan="1" class="el-table_2_column_8  is-center   is-leaf">
            <div th:text="${project.getDescription()}" class="cell">
            </div></td>
           <td colspan="1" rowspan="1" class="el-table_2_column_7  is-center   is-leaf">
            <div th:text="${project.getTel()}" class="cell">
            </div></td>
           <td colspan="1" rowspan="1" class="el-table_2_column_9  is-center   is-leaf">
            <div class="cell">
             <button type="button" th:onclick="accept(this)" th:value="${project.getProjectId()}" th:name="${project.getUserId()}" th:id="${project.getTypeCode()}"
                     class="el-button el-button--success el-button--mini"  style="margin-left:10px;" data-v-d0b3a19c="">接受</button>
             <button type="button" th:onclick="javascript:refuse([[${project.getProjectId()}]],[[${project.getUserId()}]],[[${project.getTel()}]],[[${project.getUsername()}]])" th:value="${project.getProjectId()}" th:name="${project.getUserId()}"
                     class="el-button el-button--danger el-button--mini"  style="margin-left:10px;" data-v-d0b3a19c="">拒绝</button>
             <!--<a th:href="'/accept?projectId='+${project.getProjectId()}"> <button type="button" class="el-button el-button&#45;&#45;success el-button&#45;&#45;mini"  style="margin-left:10px;" data-v-d0b3a19c=""> 接受</button></a>-->
             <!--<a th:href="'/refuse?projectId='+${project.getProjectId()}" ><button type="button" class="el-button el-button&#45;&#45;danger el-button&#45;&#45;mini"  style="margin-left:10px;" data-v-d0b3a19c="">拒绝</button></a>-->
            </div></td>
           <th class="gutter" style="width: 0px; display: none;"></th>
          </tr>
          </tbody>
         </table>
         <!--    <div class="el-table__empty-block" style="width: 1120px;">
             <span class="el-table__empty-text">暂无数据</span>
            </div> -->
        </div>
        <div class="el-table__column-resize-proxy" style="display: none;"></div>
        <div class="el-loading-mask" style="display: none;">
         <div class="el-loading-spinner">
          <svg viewbox="25 25 50 50" class="circular">
           <circle cx="50" cy="50" r="20" fill="none" class="path"></circle>
          </svg>
          <p class="el-loading-text"></p>
         </div>
        </div>
       </div>
       <div class="bg-purple" data-v-d0b3a19c="">
        <div class="block" data-v-d0b3a19c="">
         <!--            <div class="el-pagination is-background" data-v-d0b3a19c=""> -->
         <!--             <span class="el-pagination__total" th:text="'共'+${total}+'条'">共 3 条</span> -->
         <!--             <button type="button" class="btn-prev disabled"><a th:href="@{'/myProject?currentPage='+${currentPage - 1}}"><i class="el-icon el-icon-arrow-left"></i></a></button> -->
         <!--              <ul class="el-pager"> -->
         <!--               <li th:each="i:${#numbers.sequence(1,pages)}" th:class="${i} == ${currentPage} ? 'number active' : ''" class="number active"><a th:href="@{'/myProject?currentPage='+${i}}" th:text="${i}">1</a></li> -->
         <!--              </ul> -->
         <!--             <button type="button" onclick="next()" class="btn-next disabled"><a th:href="@{'/myProject?currentPage='+${currentPage + 1}}"><i class="el-icon el-icon-arrow-right"></i></a></button> -->
         <!--            </div> -->
         <div class="pages_zt" data-v-f669c494>
          <div class="pageDiv"></div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
    <!-- 公共底部 -->
    <div th:include="front/common/_footer :: footer" id="footer" data-v-407369c6 data-v-2a183b29></div>
    <!-- 公共js -->
    <div th:include="front/common/_js :: js"></div>
   </div>
  </div>
 </div>
</div>
<script>

  function accept(obj){
   $.ajax({
    url:"/accept",
    type:"post",
    data: {
     projectId: obj.value,userId:obj.name ,typeCode:obj.id,
    },
    success:function (data) {
     if(data=="1"){
      // alert($(obj).attr('name'));
      $(obj).prop('disabled', 'disabled');
      $(obj).text("已接受");
      $(obj).next(obj).prop('disabled', 'disabled');
      window.location.reload();
     }
      // alert("已接受");
    }
   })
  }

  function refuse(projectId,userId,tel,userName){
   $.ajax({
    url:"/refuse",
    type:"post",
    data:{
     projectId:projectId,userId:userId,tel:tel,userName:userName,
    },
    success:function (data) {
     if(data=="1"){
      window.location.reload();
     }
     else{
      window.location.reload();
     }
    }
   })
  }
</script>
</body>
</html>