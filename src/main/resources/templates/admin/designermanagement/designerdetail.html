<!DOCTYPE HTML>
<html  xmlns:th="http://www.thymeleaf.org">
<head th:include="_meta :: header">
<title>设计师信息编辑 </title>
</head>
<body>
<style>
	#submit{
		width:15%;
	}
</style>
<article class="page-container">
	<form class="form form-horizontal" id="form-purchase-add" action="#" th:action="@{/admin/Usermanagement/designersave}">
	<!-- <input type="hidden" name="save" value="true"/> -->
	
	<div class="row cl" style="margin-bottom:4%;display:none;">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>用户ID：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<div th:text="${designerdetail.getId()}"></div>
		</div>
	</div>
	<div class="row cl" style="margin-bottom:4%">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>设计师名称：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<div th:text="${designerdetail.getUsername()}"></div>
		</div>
	</div>
	
	<div class="row cl" style="margin-bottom:4%">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>昵称：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<div th:text="${designerdetail.getNickname()}"></div>
		</div>
	</div>
	
	<div class="row cl" style="margin-bottom:4%">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>擅长领域：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<div th:text="${designerdetail.getDescription()}"></div>
		</div>
	</div>
	
	<div class="row cl" style="margin-bottom:4%">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>电话号码：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<div th:text="${designerdetail.getTel()}"></div>
		</div>
	</div>
	
	<div class="row cl" style="margin-bottom:4%">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>邮箱：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<div th:text="${designerdetail.getEmail()}"></div>
		</div>
	</div>
	
	<div class="row cl" style="margin-bottom:4%">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>简介：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<div th:text="${designerdetail.getIntroduction()}"></div>
		</div>
	</div>
	
	<div class="row cl" style="margin-bottom:4%">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>常用地区：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<div th:text="${designerdetail.getCommonAddress()}"></div>
		</div>
	</div>
	
	<div class="row cl" style="margin-bottom:4%">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>地区：</label>
		<!-- <div class="formControls col-xs-7 col-sm-5">
			<div th:text="${designerdetail.getArea()}"></div>
		</div> -->
		
		<div class="el-form-item__content" style="margin-left: 273px;">
				<div class="el-row">
				 <div class="el-col el-col-6">
				  <div class="el-input el-input--suffix"style="float:left;">
					  <select id="province" name="province"class=" el-input__inner" disabled="disabled">
						<option value="" disabled selected style='display:none;'>请选择省</option>
						<option th:each="pro:${provinces}" th:text="${pro.getName()}" 
					th:value="${pro.getProvinceId()}" th:selected="${leadingUser.provinceId != null and leadingUser.provinceId.toString() eq pro.getProvinceId()}">空</option>
			</select>
					
					  <span class="el-input__suffix">
						<span class="el-input__suffix-inner">
							<i class="el-select__caret el-input__icon el-icon-arrow-down"></i>
						</span>
					  </span> 
				  </div>
				 </div>
				 <div class="el-col el-col-6" id="cityDiv">
				   <div class="el-input el-input--suffix" style="margin-left:10px;float:left; ">
					  <select class=" el-input__inner" id="city" name="city" disabled="disabled">
						<option value='' disabled selected style='display:none;'>请选择市</option>
					  </select> 
					<span id="cityRecord" th:text="${projectorForm.getCityId()}" style="display:none"></span>
					  <span class="el-input__suffix">
						<span class="el-input__suffix-inner">
							<i class="el-select__caret el-input__icon el-icon-arrow-down"></i>
						</span>
					  </span> 
				  </div>
				 </div>
				 <div class="el-col el-col-6" id="areaDiv">
				  <div class="el-input el-input--suffix" style="margin-left:10px;float:left;">
					  <select class=" el-input__inner" id="areaId" name="areaId" disabled="disabled">
						<option value='' disabled selected style='display:none;'>请选择县</option>
					  </select> 
					<span id="areaRecord" th:text="${projectorForm.getArea()}" style="display:none"></span>
					  <span class="el-input__suffix">
						<span class="el-input__suffix-inner">
							<i class="el-select__caret el-input__icon el-icon-arrow-down"></i>
						</span>
					  </span> 
				  </div>
				 </div>
				</div>
			   </div>
		
	</div>
	
	<div class="row cl" style="margin-bottom:4%">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>头像：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<img th:src="${designerdetail.getPhoto()}" style ="height:30px;width:30px;"/>
		</div>
	</div>
<!--		<div class="row cl" style="margin-bottom:4%">
			<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>资质证书：</label>
			<div class="formControls col-xs-7 col-sm-5">
				<img th:src="${designerdetail.getAptitude()}" style ="height:30px;width:30px;"/>
			</div>
		</div>-->
	<div class="row cl" style="margin-bottom:4%">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>性别：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<p th:text="${designerdetail.getSexType()}" id="sextypecode" style="display:none;"></p>
			<div  id="sexType" ></div>
		</div>
	</div>
	
<!--
	<div class="row cl" style="margin-bottom:4%">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>资质评分：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<div th:text="${designerdetail.getQualifyScore()}"></div>
		</div>
	</div>-->
	
	<div class="row cl" style="margin-bottom:4%;display:none;">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>角色选择：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<div class="formControls col-xs-7 col-sm-5">
				<div th:text="${designerdetail.getSexType()}"></div>
				<select id="roleCode" name="roleCode"  class="text-input"  >
					<option value="1001">设计师</option>
					<option value="1002">项目方</option>
				</select>
			</div>
		</div>
	</div>
	
	
	<div class="row cl" style="margin-bottom:4%;display:none;">
		<label class="form-label col-xs-4 col-sm-3 col-sm-offset-1"><span class="c-red">*</span>密码：</label>
		<div class="formControls col-xs-7 col-sm-5">
			<div type="password" th:text="${designerdetail.getPassword()}"></div>
		</div>
	</div>

	<div class="row cl">
		<div class="col-xs-3 col-sm-3 col-xs-offset-4 col-sm-offset-5" id="submit">
			<input class="btn btn-primary radius" id="reset" type="button" value="&nbsp;&nbsp;确定&nbsp;&nbsp;"/>
		</div> 
	</div>
	</form>
</article>

<!--_footer 作为公共模版分离出去--> 
<div th:replace="_footer :: footerjs"></div>
 <!--/_footer 作为公共模版分离出去-->

<!--请在下方写此页面业务相关的脚本-->
<script type="text/javascript" th:src="@{/lib/jquery.validation/1.14.0/jquery.validate.js}" src="lib/jquery.validation/1.14.0/jquery.validate.js"></script> 
<script type="text/javascript" th:src="@{/lib/jquery.validation/1.14.0/validate-methods.js}" src="lib/jquery.validation/1.14.0/validate-methods.js"></script> 
<script type="text/javascript" th:src="@{/lib/jquery.validation/1.14.0/messages_zh.js}"  src="lib/jquery.validation/1.14.0/messages_zh.js"></script> 
<script type="text/javascript" th:src="@{/lib/My97DatePicker/4.8/WdatePicker.js}"  src="lib/My97DatePicker/4.8/WdatePicker.js"></script>
<script type="text/javascript">

var result;
//选择省份事件
$("#province").change(function() {
	//先清空城市和区
	$("#city").empty();
	$("#areaId").empty();
	$('#city').append("<option value=''>待选择</option>");
	$('#areaId').append("<option value=''>待选择</option>");
	if($("#province").val()==""){
		//啥都不做
	}else{
		chooseDic("province",$("#province").val());
		var flag = false;
		for (i in result){
			$('#city').append("<option value='"+result[i].cityId+"'>"+result[i].name+"</option>");
		}
	}
});
//选择城市事件
$("#city").change(function() {
	//先清空规格
	$("#areaId").empty();
	$('#areaId').append("<option value=''>待选择</option>");
	if($("#city").val()==""){
		//啥都不做
	}else{
		chooseDic("city",$("#city").val());
		for (i in result){
			$('#areaId').append("<option value='"+result[i].areaId+"'>"+result[i].name+"</option>");
		}
	}
});
//选择下拉菜单时和后台要字典的交互方法
function chooseDic(who,code){
	var toServer={
		who : who,
		code : code,
	}
	//此处请求后台程序，下方是成功后的前台处理……
	$.ajax({
		type: 'POST',
		url: "/admin/projector/getareadic",
		dataType: 'json',
		data:toServer,
		async:false,
		success: function(data){
			//返回服务器返回的字典对象
			result = data;
			
		},
		error:function(data) {
			console.log("错误!");
		},
	});
}
//加载时请求回显省市区
$(function(){
	chooseDic("province",$("#province").val());
	if(result.length != 0){
		$('#cityDiv').css("display","inline");
		$('#areaDiv').css("display","inline");
		for (i in result){
			$('#city').append("<option value='"+result[i].cityId+"'>"+result[i].name+"</option>");
			$('#city').val($('#cityRecord').text());
		}
	}else{
		$('#cityDiv').css("display","none");
	}
	chooseDic("city",$("#city").val());
	if(result.length != 0){
		$('#areaDiv').css("display","inline");
		for (i in result){
			$('#areaId').append("<option value='"+result[i].areaId+"'>"+result[i].name+"</option>");
			$('#areaId').val($('#areaRecord').text());
		}
	}else{
		$('#areaDiv').css("display","none");
	}
});
//性别回显
$(document).ready(function(){
	var num = $("#sextypecode").text();   //获取p中的内容
	if(num ==1){
		$("#sexType").text("男");
	}
	else if(num == 0){
		$("#sexType").text("女");
	}else{
		$("#sexType").text("待选择");
	}
});
/**
 * 重置
 */
$('#reset').on('click',function(){
	var index = parent.layer.getFrameIndex(window.name);
	parent.layer.close(index); 
});
</script> 
<!--/请在上方写此页面业务相关的脚本-->
</body>
</html>