<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>建筑设计服务平台</title>
    <meta name="description" content="建筑设计服务平台">
    <meta name="keywords" content="index">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta name="apple-mobile-web-app-title" content="" />
    <script data-n-head="true" th:src="@{/font/js/jquery.min.js}" src="js/jquery.min.js"></script>
    <script data-n-head="true" th:src="@{/font/js/echarts.js}" ></script>
    <link rel="stylesheet" type="text/css" th:href="@{/font/css/amazeui.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/font/css/app.css}" />
</head>
<body class="theme-blue">
<div class="row-content am-cf">
    <div class="row  am-cf">
        <div class="am-u-sm-12 am-u-md-6 am-u-lg-4">
            <div class="widget widget-primary am-cf">
                <div class="widget-statistic-header">
                    平台资金总交易额
                </div>
                <div class="widget-statistic-body">
                    <div class="widget-statistic-value" id="top_allCaptical">
                    </div>
                    <div class="widget-statistic-description">
                        本月资金总交易额同比上一月多 <strong id="top_thisMonthCaptical"></strong>
                    </div>
                    <span class="widget-statistic-icon am-icon-calendar"></span>
                </div>
            </div>
        </div>
        <div class="am-u-sm-12 am-u-md-6 am-u-lg-4">
            <div class="widget widget-primary am-cf">
                <div class="widget-statistic-header">
                    平台用户总量
                </div>
                <div class="widget-statistic-body">
                    <div class="widget-statistic-value" id="top_allUser">

                    </div>
                    <div class="widget-statistic-description">
                        本月平台用户总量同比上一月多 <strong id="top_allUserMore"></strong>
                    </div>
                    <span class="widget-statistic-icon am-icon-credit-card-alt"></span>
                </div>
            </div>
        </div>
        <div class="am-u-sm-12 am-u-md-6 am-u-lg-4">
            <div class="widget widget-purple am-cf">
                <div class="widget-statistic-header">
                    项目总量
                </div>
                <div class="widget-statistic-body">
                    <div class="widget-statistic-value" id="top_all">

                    </div>
                    <div class="widget-statistic-description">
                        本月项目总量同比上一月多 <strong id="top_all_project"></strong>
                    </div>
                    <span class="widget-statistic-icon am-icon-support"></span>
                </div>
            </div>
        </div>
    </div>
    <div class="row am-cf">
        <div class="am-u-sm-12 am-u-md-6" style="padding-right:0">
            <div class="widget-head am-cf">
                <div class="widget-title am-fl">资金交易</div>
            </div>
            <div class="widget am-cf">
                <div class=" widget-body tpl-amendment-echarts am-fr">
                    <div style="height: 370px;top:0px;position:relative" class="" id="tpl-echarts-C"></div>
                </div>
            </div>
        </div>
        <div class="am-u-sm-12 am-u-md-6" style="padding-left:0">
            <div class="widget-head am-cf">
                <div class="widget-title am-fl" style="color: #fff;">资金交易</div>
            </div>
            <div class="widget am-cf">
                <div class=" widget-body tpl-amendment-echarts am-fr">
                    <div style="height: 370px;top:0px;position:relative" class="" id="tpl-echarts-D"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row am-cf">
        <div class="am-u-sm-12 am-u-md-6" style="padding-right:0">
            <div class="widget-head am-cf">
                <div class="widget-title am-fl">用户流量</div>
            </div>
            <div class="widget am-cf" style="margin-bottom: 0">
                <div class="widget-body tpl-amendment-echarts am-fr">
                    <div style="height: 340px;top:-0px;position:relative" class="" id="tpl-echarts-E"></div>
                </div>
            </div>
        </div>
        <div class="am-u-sm-12 am-u-md-6" style="padding-left:0">
            <div class="widget-head am-cf">
                <div class="widget-title am-fl" style="color: #fff;">用户流量</div>
            </div>
            <div class="widget am-cf" style="margin-bottom: 0">
                <div class=" widget-body tpl-amendment-echarts am-fr">
                    <div style="height: 340px;top:-0px;position:relative" class="" id="tpl-echarts-G"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row am-cf">
        <div class="am-u-sm-12 am-u-md-6" style="padding-right:0">
            <div class="widget am-cf">
                <div class="widget-body am-fr" style="padding-bottom: 0">
                    <div class="am-scrollable-horizontal am-text-center">
                        <table width="100%" class="am-table am-table-compact am-text-nowrap tpl-table-black am-table-centered" id="userTable">
                            <thead>
                            <tr>
                                <th class="am-text-center">排行</th>
                                <th>用户城市TOP10</th>
                                <th>用户余额TOP10</th>
                                <th width="80" class="am-text-center">操作</th>
                            </tr>
                            </thead>
                            <tbody id="userTbody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="am-u-sm-12 am-u-md-6" style="padding-left:0">
            <div class="widget am-cf">
                <div class="widget-body tpl-amendment-echarts am-fr">
                    <div style="height: 340px;top:-0px;position:relative" class="" id="tpl-echarts-H"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row am-cf">
        <div class="am-u-sm-12 am-u-md-6" style="padding-right:0">
            <div class="widget-head am-cf">
                <div class="widget-title am-fl">项目统计</div>
            </div>
            <div class="widget am-cf" style="margin-bottom: 0;">
                <div class="widget-body tpl-amendment-echarts am-fr">
                    <div style="height: 340px;top:-0px;position:relative" class="" id="tpl-echarts-I"></div>
                </div>
            </div>
        </div>
        <div class="am-u-sm-12 am-u-md-6" style="padding-left:0">
            <div class="widget-head am-cf">
                <div class="widget-title am-fl" style="color: #fff;">项目统计</div>
            </div>
            <div class="widget am-cf" style="margin-bottom: 0;">
                <div class="widget-body tpl-amendment-echarts am-fr">
                    <div style="height: 340px;top:-0px;position:relative" class="" id="tpl-echarts-J"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row am-cf">
        <div class="am-u-sm-12 am-u-md-6" style="padding-right:0">
            <div class="widget am-cf">
                <div class="widget-body am-fr" style="padding-bottom: 23px;">
                    <div class="am-scrollable-horizontal am-text-center">
                        <table width="100%" class="am-table am-table-compact am-text-nowrap tpl-table-black am-table-centered" id="ProjectTable">
                            <thead>
                            <tr>
                                <th class="am-text-center">排行</th>
                                <th>完成项目城市TOP10</th>
                                <th>完成项目设计师TOP10</th>
                                <th width="80" class="am-text-center">操作</th>
                            </tr>
                            </thead>
                            <tbody id = "projectTbody">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="am-u-sm-12 am-u-md-6" style="padding-left:0">
            <div class="widget am-cf">
                <div class="widget-body tpl-amendment-echarts am-fr">
                    <div style="height: 363px;top:-0px;position:relative" class="" id="tpl-echarts-K"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row am-cf">
        <div class="am-u-sm-12 am-u-md-6" style="padding-right:0">
            <div class="widget-head am-cf">
                <div class="widget-title am-fl">投标量统计</div>
            </div>
            <div class="widget am-cf" style="margin-bottom: 0">
                <div class="widget-body tpl-amendment-echarts am-fr">
                    <div style="height: 340px;top:-0px;position:relative" class="" id="tpl-echarts-L"></div>
                </div>
            </div>
        </div>
        <div class="am-u-sm-12 am-u-md-6" style="padding-left:0">
            <div class="widget-head am-cf">
                <div class="widget-title am-fl" style="color: #fff">投标量统计</div>
            </div>
            <div class="widget am-cf" style="margin-bottom: 0">
                <div class="widget-body tpl-amendment-echarts am-fr">
                    <div style="height: 340px;top:-0px;position:relative" class="" id="tpl-echarts-M"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row am-cf">
        <div class="am-u-sm-12 am-u-md-6" style="padding-right:0">
            <div class="widget am-cf">
                <div class="widget-body am-fr" style="padding-bottom: 0">
                    <div class="am-scrollable-horizontal am-text-center">
                        <table width="100% " class="am-table am-table-compact am-text-nowrap tpl-table-black am-table-centered" id="TenderTable">
                            <thead>
                            <tr>
                                <th class="am-text-center">排行</th>
                                <th>设计师投标量TOP10</th>
                                <th>项目被投标量TOP10</th>
                                <th width="80" class="am-text-center">操作</th>
                            </tr>
                            </thead>
                            <tbody id = "tenderTbody">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="am-u-sm-12 am-u-md-6" style="padding-left:0">
            <div class="widget am-cf">
                <div class="widget-body tpl-amendment-echarts am-fr">
                    <div style="height: 340px;top:-0px;position:relative" class="" id="tpl-echarts-N"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--<script data-n-head="true" th:src="@{/font/js/app.js}" src="js/app.js"></script>-->
<script type="text/javascript" th:src="@{/lib/layer/2.4/layer.js}" src="lib/layer/2.4/layer.js"></script>
<script type="text/javascript">

    $(document).ready(function () {

        $.ajax({
            url:"/admin/statistical/requestData", // 跳转到 action
            type:'post',
            success:function(data) {
                $("#top_allUser").html(data.User.allUser); // 设置顶部总用户量
                $("#top_allUserMore").html(data.User.allMonthUser); // 设置顶部本月增长用户量
                $("#top_all").html(data.statisticalProject.allProject);
                $("#top_all_project").html(data.statisticalProject.allMonthProject);
                $("#top_allCaptical").html(data.statisticalCaptial.allCaptial);
                $("#top_thisMonthCaptical").html(data.statisticalCaptial.thisMonthCaptial);

                /*                  var echartsA = echarts.init(document.getElementById('tpl-echarts-A'));

                                 optionA = {
                                     title : {
                                         text: '资金收入统计',
                                         x:'center'
                                     },
                                     tooltip: {
                                         trigger: 'item',
                                         formatter: "{a} <br/>{b}: {c} ({d}%)"
                                     },
                                     legend: {
                                         orient: 'vertical',
                                         x: 'left',
                                         data:['直达','营销广告','搜索引擎','邮件营销','联盟广告','视频广告','百度','谷歌','必应','其他']
                                     },
                                     series: [
                                         {
                                             name:'访问来源',
                                             type:'pie',
                                             selectedMode: 'single',
                                             radius: [0, '30%'],

                                             label: {
                                                 normal: {
                                                     position: 'inner'
                                                 }
                                             },
                                             labelLine: {
                                                 normal: {
                                                     show: false
                                                 }
                                             },
                                             data:[
                                                 {value:335, name:'银联', selected:true},
                                                 {value:679, name:'微信'},
                                                 {value:1548, name:'支付宝'}
                                             ]
                                         },
                                         {
                                             name:'访问来源',
                                             type:'pie',
                                             radius: ['40%', '55%'],
                                             label: {
                                                 normal: {
                                                     formatter: ' {a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}',
                                                     backgroundColor: '#eee',
                                                     borderColor: '#aaa',
                                                     borderWidth: 1,
                                                     borderRadius: 4,
                                                     // shadowBlur:3,
                                                     // shadowOffsetX: 2,
                                                     // shadowOffsetY: 2,
                                                     // shadowColor: '#999',
                                                     // padding: [0, 7],
                                                     rich: {
                                                         a: {
                                                             color: '#999',
                                                             lineHeight: 22,
                                                             align: 'center'
                                                         },
                                                         // abg: {
                                                         //     backgroundColor: '#333',
                                                         //     width: '100%',
                                                         //     align: 'right',
                                                         //     height: 22,
                                                         //     borderRadius: [4, 4, 0, 0]
                                                         // },
                                                         hr: {
                                                             borderColor: '#aaa',
                                                             width: '100%',
                                                             borderWidth: 0.5,
                                                             height: 0
                                                         },
                                                         b: {
                                                             fontSize: 16,
                                                             lineHeight: 33
                                                         },
                                                         per: {
                                                             color: '#eee',
                                                             backgroundColor: '#334455',
                                                             padding: [2, 4],
                                                             borderRadius: 2
                                                         }
                                                     }
                                                 }
                                             },
                                             data:[
                                                 {value:335, name:'直达'},
                                                 {value:310, name:'邮件营销'},
                                                 {value:234, name:'联盟广告'},
                                                 {value:135, name:'视频广告'},
                                                 {value:1048, name:'百度'},
                                                 {value:251, name:'谷歌'},
                                                 {value:147, name:'必应'},
                                                 {value:102, name:'其他'}
                                             ]
                                         }
                                     ]
                                 };
                                 echartsA.setOption(optionA);


                                 var echartsB = echarts.init(document.getElementById('tpl-echarts-B'));

                                 optionB = {
                                     title : {
                                         text: '资金支出统计',
                                         x:'center'
                                     },
                                     tooltip: {
                                         trigger: 'item',
                                         formatter: "{a} <br/>{b}: {c} ({d}%)"
                                     },
                                     legend: {
                                         orient: 'vertical',
                                         x: 'left',
                                         data:['直达','营销广告','搜索引擎','邮件营销','联盟广告','视频广告','百度','谷歌','必应','其他']
                                     },
                                     series: [
                                         {
                                             name:'访问来源',
                                             type:'pie',
                                             selectedMode: 'single',
                                             radius: [0, '30%'],

                                             label: {
                                                 normal: {
                                                     position: 'inner'
                                                 }
                                             },
                                             labelLine: {
                                                 normal: {
                                                     show: false
                                                 }
                                             },
                                             data:[
                                                 {value:335, name:'银联', selected:true},
                                                 {value:679, name:'微信'},
                                                 {value:1548, name:'支付宝'}
                                             ]
                                         },
                                         {
                                             name:'访问来源',
                                             type:'pie',
                                             radius: ['40%', '55%'],
                                             label: {
                                                 normal: {
                                                     formatter: ' {a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}',
                                                     backgroundColor: '#eee',
                                                     borderColor: '#aaa',
                                                     borderWidth: 1,
                                                     borderRadius: 4,
                                                     // shadowBlur:3,
                                                     // shadowOffsetX: 2,
                                                     // shadowOffsetY: 2,
                                                     // shadowColor: '#999',
                                                     // padding: [0, 7],
                                                     rich: {
                                                         a: {
                                                             color: '#999',
                                                             lineHeight: 22,
                                                             align: 'center'
                                                         },
                                                         // abg: {
                                                         //     backgroundColor: '#333',
                                                         //     width: '100%',
                                                         //     align: 'right',
                                                         //     height: 22,
                                                         //     borderRadius: [4, 4, 0, 0]
                                                         // },
                                                         hr: {
                                                             borderColor: '#aaa',
                                                             width: '100%',
                                                             borderWidth: 0.5,
                                                             height: 0
                                                         },
                                                         b: {
                                                             fontSize: 16,
                                                             lineHeight: 33
                                                         },
                                                         per: {
                                                             color: '#eee',
                                                             backgroundColor: '#334455',
                                                             padding: [2, 4],
                                                             borderRadius: 2
                                                         }
                                                     }
                                                 }
                                             },
                                             data:[
                                                 {value:335, name:'直达'},
                                                 {value:310, name:'邮件营销'},
                                                 {value:234, name:'联盟广告'},
                                                 {value:135, name:'视频广告'},
                                                 {value:1048, name:'百度'},
                                                 {value:251, name:'谷歌'},
                                                 {value:147, name:'必应'},
                                                 {value:102, name:'其他'}
                                             ]
                                         }
                                     ]
                                 };

                                 echartsB.setOption(optionB); */


                var thisIncomeArr = data.statisticalCaptial.thisWeekIncome;
                var thisExpendArr = data.statisticalCaptial.thisWeekExpend;
                var thisNewArr = new Array(7);

                for(var i = 0;i<thisIncomeArr.length;i++)
                {
                    thisNewArr[i] = thisIncomeArr[i] - thisExpendArr[i];
                }


                var echartsC = echarts.init(document.getElementById('tpl-echarts-C'));
                optionC = {
                    title : {
                        text: '本周资金流水统计',
                        x:'left'
                    },
                    tooltip : {
                        trigger: 'axis',
                        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                        }
                    },
                    legend: {
                        data:['利润', '支出', '收入']
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    xAxis : [
                        {
                            type : 'value'
                        }
                    ],
                    yAxis : [
                        {
                            type : 'category',
                            axisTick : {show: false},
                            data : ['周一','周二','周三','周四','周五','周六','周日']
                        }
                    ],
                    series : [
                        {
                            name:'利润',
                            type:'bar',
                            label: {
                                normal: {
                                    show: true,
                                    position: 'inside'
                                }
                            },
                            data:thisNewArr
                        },
                        {
                            name:'收入',
                            type:'bar',
                            stack: '总量',
                            label: {
                                normal: {
                                    show: true
                                }
                            },
                            data:data.statisticalCaptial.thisWeekIncome
                        },
                        {
                            name:'支出',
                            type:'bar',
                            stack: '总量',
                            label: {
                                normal: {
                                    show: true,
                                    position: 'left'
                                }
                            },
                            data:data.statisticalCaptial.thisWeekExpend
                        }
                    ]
                };

                echartsC.setOption(optionC);



                var lastIncomeArr = data.statisticalCaptial.lastWeekIncome;
                var lastExpendArr = data.statisticalCaptial.lastWeekExpend;
                var lastNewArr = new Array(7);

                for(var i = 0;i<lastIncomeArr.length;i++)
                {
                    lastNewArr[i] = lastIncomeArr[i] - lastExpendArr[i];
                }



                var echartsD = echarts.init(document.getElementById('tpl-echarts-D'));
                optionD = {
                    title : {
                        text: '上周资金流水统计',
                        x:'left'
                    },
                    tooltip : {
                        trigger: 'axis',
                        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                        }
                    },
                    legend: {
                        data:['利润', '支出', '收入']
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    xAxis : [
                        {
                            type : 'value'
                        }
                    ],
                    yAxis : [
                        {
                            type : 'category',
                            axisTick : {show: false},
                            data : ['周一','周二','周三','周四','周五','周六','周日']
                        }
                    ],
                    series : [
                        {
                            name:'利润',
                            type:'bar',
                            label: {
                                normal: {
                                    show: true,
                                    position: 'inside'
                                }
                            },
                            data:lastNewArr
                        },
                        {
                            name:'收入',
                            type:'bar',
                            stack: '总量',
                            label: {
                                normal: {
                                    show: true
                                }
                            },
                            data:data.statisticalCaptial.lastWeekIncome
                        },
                        {
                            name:'支出',
                            type:'bar',
                            stack: '总量',
                            label: {
                                normal: {
                                    show: true,
                                    position: 'left'
                                }
                            },
                            data:data.statisticalCaptial.lastWeekExpend
                        }
                    ]
                };

                echartsD.setOption(optionD);




                var echartsE = echarts.init(document.getElementById('tpl-echarts-E'));
                optionE = {
                    title : {
                        text: '用户量统计',
                        x:'center'
                    },
                    tooltip: {
                        trigger: 'item',
                        formatter: "{a} <br/>{b}: {c} ({d}%)"
                    },
                    legend: {
                        orient: 'vertical',
                        x: 'left',
                        data:['设计师','专家','项目方']
                    },
                    series: [
                        {
                            name:'用户量',
                            type:'pie',
                            radius: ['50%', '70%'],
                            avoidLabelOverlap: false,
                            label: {
                                normal: {
                                    show: false,
                                    position: 'center'
                                },
                                emphasis: {
                                    show: true,
                                    textStyle: {
                                        fontSize: '30',
                                        fontWeight: 'bold'
                                    }
                                }
                            },
                            labelLine: {
                                normal: {
                                    show: false
                                }
                            },
                            data:[
                                {value:data.User.allDesignUser, name:'设计师'},
                                {value:data.User.allExpertUser, name:'专家'},
                                {value:data.User.allProjectUser, name:'项目方'},
                            ]
                        }
                    ]
                };

                echartsE.setOption(optionE);


                var echartsG = echarts.init(document.getElementById('tpl-echarts-G'));

                optionG = {
                    title: {
                        text: '本周用户量增长量'
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    legend: {
                        data:['设计师','项目方','专家']
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    toolbox: {
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: ['周一','周二','周三','周四','周五','周六','周日']
                    },
                    yAxis: {
                        type: 'value'
                    },
                    series: [
                        {
                            name:'设计师',
                            type:'line',
                            stack: '总量',
                            data:[data.User.thisStatisticalSearchUserModel[0].week0, data.User.thisStatisticalSearchUserModel[0].week1, data.User.thisStatisticalSearchUserModel[0].week2, data.User.thisStatisticalSearchUserModel[0].week3, data.User.thisStatisticalSearchUserModel[0].week4, data.User.thisStatisticalSearchUserModel[0].week5, data.User.thisStatisticalSearchUserModel[0].week6]
                        },
                        {
                            name:'项目方',
                            type:'line',
                            stack: '总量',
                            data:[data.User.thisStatisticalSearchUserModel[1].week0, data.User.thisStatisticalSearchUserModel[1].week1, data.User.thisStatisticalSearchUserModel[1].week2, data.User.thisStatisticalSearchUserModel[1].week3, data.User.thisStatisticalSearchUserModel[1].week4, data.User.thisStatisticalSearchUserModel[1].week5, data.User.thisStatisticalSearchUserModel[1].week6]
                        },
                        {
                            name:'专家',
                            type:'line',
                            stack: '总量',
                            data:[data.User.thisStatisticalSearchUserModel[2].week0, data.User.thisStatisticalSearchUserModel[2].week1, data.User.thisStatisticalSearchUserModel[2].week2, data.User.thisStatisticalSearchUserModel[2].week3, data.User.thisStatisticalSearchUserModel[2].week4, data.User.thisStatisticalSearchUserModel[2].week5, data.User.thisStatisticalSearchUserModel[2].week6]
                        }
                    ]
                };
                echartsG.setOption(optionG);


                var echartsH = echarts.init(document.getElementById('tpl-echarts-H'));

                optionH = {
                    title: {
                        text: '上周用户量增长量'
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    legend: {
                        data:['设计师','项目方','专家']
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    toolbox: {
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: ['周一','周二','周三','周四','周五','周六','周日']
                    },
                    yAxis: {
                        type: 'value'
                    },
                    series: [
                        {
                            name:'设计师',
                            type:'line',
                            stack: '总量',
                            data:[data.User.lastStatisticalSearchUserModel[0].week0, data.User.lastStatisticalSearchUserModel[0].week1, data.User.lastStatisticalSearchUserModel[0].week2, data.User.lastStatisticalSearchUserModel[0].week3, data.User.lastStatisticalSearchUserModel[0].week4, data.User.lastStatisticalSearchUserModel[0].week5, data.User.lastStatisticalSearchUserModel[0].week6]
                        },
                        {
                            name:'项目方',
                            type:'line',
                            stack: '总量',
                            data:[data.User.lastStatisticalSearchUserModel[1].week0, data.User.lastStatisticalSearchUserModel[1].week1, data.User.lastStatisticalSearchUserModel[1].week2, data.User.lastStatisticalSearchUserModel[1].week3, data.User.lastStatisticalSearchUserModel[1].week4, data.User.lastStatisticalSearchUserModel[1].week5, data.User.lastStatisticalSearchUserModel[1].week6]
                        },
                        {
                            name:'专家',
                            type:'line',
                            stack: '总量',
                            data:[data.User.lastStatisticalSearchUserModel[2].week0, data.User.lastStatisticalSearchUserModel[2].week1, data.User.lastStatisticalSearchUserModel[2].week2, data.User.lastStatisticalSearchUserModel[2].week3, data.User.lastStatisticalSearchUserModel[2].week4, data.User.lastStatisticalSearchUserModel[2].week5, data.User.lastStatisticalSearchUserModel[2].week6]
                        }
                    ]
                };

                echartsH.setOption(optionH);

                var echartsI = echarts.init(document.getElementById('tpl-echarts-I'));

                optionI = {
                    title : {
                        text: '项目量统计',
                        x:'center'
                    },
                    tooltip: {
                        trigger: 'item',
                        formatter: "{a} <br/>{b}: {c} ({d}%)"
                    },
                    legend: {
                        orient: 'vertical',
                        x: 'left',
                        data:['在建项目','新建项目','结项项目']
                    },
                    series: [
                        {
                            name:'项目量',
                            type:'pie',
                            radius: ['50%', '70%'],
                            avoidLabelOverlap: false,
                            label: {
                                normal: {
                                    show: false,
                                    position: 'center'
                                },
                                emphasis: {
                                    show: true,
                                    textStyle: {
                                        fontSize: '30',
                                        fontWeight: 'bold'
                                    }
                                }
                            },
                            labelLine: {
                                normal: {
                                    show: false
                                }
                            },
                            data:[
                                {value:data.statisticalProject.allMiddelProject, name:'在建项目'},
                                {value:data.statisticalProject.allNewProject, name:'新建项目'},
                                {value:data.statisticalProject.allEndProject, name:'结项项目'},
                            ]
                        }
                    ]
                };


                echartsI.setOption(optionI);


                var echartsJ = echarts.init(document.getElementById('tpl-echarts-J'));

                optionJ = {
                    title: {
                        text: '本周项目量增长量'
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    legend: {
                        data:['在建项目','新建项目','结项项目']
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    toolbox: {
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: ['周一','周二','周三','周四','周五','周六','周日']
                    },
                    yAxis: {
                        type: 'value'
                    },
                    series: [
                        {
                            name:'在建项目',
                            type:'line',
                            stack: '总量',
                            data:[data.statisticalProject.thisStatisticalSearchUserModel[0].week0, data.statisticalProject.thisStatisticalSearchUserModel[0].week1, data.statisticalProject.thisStatisticalSearchUserModel[0].week2, data.statisticalProject.thisStatisticalSearchUserModel[0].week3, data.statisticalProject.thisStatisticalSearchUserModel[0].week4, data.statisticalProject.thisStatisticalSearchUserModel[0].week5, data.statisticalProject.thisStatisticalSearchUserModel[0].week6]
                        },
                        {
                            name:'新建项目',
                            type:'line',
                            stack: '总量',
                            data:[data.statisticalProject.thisStatisticalSearchUserModel[1].week0, data.statisticalProject.thisStatisticalSearchUserModel[1].week1, data.statisticalProject.thisStatisticalSearchUserModel[1].week2, data.statisticalProject.thisStatisticalSearchUserModel[1].week3, data.statisticalProject.thisStatisticalSearchUserModel[1].week4, data.statisticalProject.thisStatisticalSearchUserModel[1].week5, data.statisticalProject.thisStatisticalSearchUserModel[1].week6]
                        },
                        {
                            name:'结项项目',
                            type:'line',
                            stack: '总量',
                            data:[data.statisticalProject.thisStatisticalSearchUserModel[2].week0, data.statisticalProject.thisStatisticalSearchUserModel[2].week1, data.statisticalProject.thisStatisticalSearchUserModel[2].week2, data.statisticalProject.thisStatisticalSearchUserModel[2].week3, data.statisticalProject.thisStatisticalSearchUserModel[2].week4, data.statisticalProject.thisStatisticalSearchUserModel[2].week5, data.statisticalProject.thisStatisticalSearchUserModel[2].week6]
                        }
                    ]
                };


                echartsJ.setOption(optionJ);

                var echartsK = echarts.init(document.getElementById('tpl-echarts-K'));

                optionK = {
                    title: {
                        text: '上周项目量增长量'
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    legend: {
                        data:['在建项目','新建项目','结项项目']
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    toolbox: {
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: ['周一','周二','周三','周四','周五','周六','周日']
                    },
                    yAxis: {
                        type: 'value'
                    },
                    series: [
                        {
                            name:'在建项目',
                            type:'line',
                            stack: '总量',
                            data:[data.statisticalProject.lastStatisticalSearchUserModel[0].week0, data.statisticalProject.lastStatisticalSearchUserModel[0].week1, data.statisticalProject.lastStatisticalSearchUserModel[0].week2, data.statisticalProject.lastStatisticalSearchUserModel[0].week3, data.statisticalProject.lastStatisticalSearchUserModel[0].week4, data.statisticalProject.lastStatisticalSearchUserModel[0].week5, data.statisticalProject.lastStatisticalSearchUserModel[0].week6]
                        },
                        {
                            name:'新建项目',
                            type:'line',
                            stack: '总量',
                            data:[data.statisticalProject.lastStatisticalSearchUserModel[1].week0, data.statisticalProject.lastStatisticalSearchUserModel[1].week1, data.statisticalProject.lastStatisticalSearchUserModel[1].week2, data.statisticalProject.lastStatisticalSearchUserModel[1].week3, data.statisticalProject.lastStatisticalSearchUserModel[1].week4, data.statisticalProject.lastStatisticalSearchUserModel[1].week5, data.statisticalProject.lastStatisticalSearchUserModel[1].week6]
                        },
                        {
                            name:'结项项目',
                            type:'line',
                            stack: '总量',
                            data:[data.statisticalProject.lastStatisticalSearchUserModel[2].week0, data.statisticalProject.lastStatisticalSearchUserModel[2].week1, data.statisticalProject.lastStatisticalSearchUserModel[2].week2, data.statisticalProject.lastStatisticalSearchUserModel[2].week3, data.statisticalProject.lastStatisticalSearchUserModel[2].week4, data.statisticalProject.lastStatisticalSearchUserModel[2].week5, data.statisticalProject.lastStatisticalSearchUserModel[2].week6]
                        }
                    ]
                };


                echartsK.setOption(optionK);




                var echartsL = echarts.init(document.getElementById('tpl-echarts-L'));


                optionL = {
                    title : {
                        text: '项目投标量变化柱状图',
                        x:'center'
                    },
                    color: ['#3398DB'],
                    tooltip : {
                        trigger: 'axis',
                        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                        }
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    xAxis : [
                        {
                            type : 'category',
                            data : ['一月份', '二月份', '三月份', '四月份', '五月份', '六月份', '七月份','八月份', '九月份', '十月份', '十一月份', '十二月份'],
                            axisTick: {
                                alignWithLabel: true
                            }
                        }
                    ],
                    yAxis : [
                        {
                            type : 'value'
                        }
                    ],
                    series : [
                        {
                            name:'投标量',
                            type:'bar',
                            barWidth: '60%',
                            data:data.statisticalTender.twelveMonth
                        }
                    ]
                };


                echartsL.setOption(optionL);




                var echartsM = echarts.init(document.getElementById('tpl-echarts-M'));

                optionM = {
                    title: {
                        text: '本周投标量增长量'
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    toolbox: {
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: ['周一','周二','周三','周四','周五','周六','周日']
                    },
                    yAxis: {
                        type: 'value'
                    },
                    series: [
                        {
                            name:'新建项目',
                            type:'line',
                            stack: '总量',
                            data:data.statisticalTender.thisWeek
                        }
                    ]
                };


                echartsM.setOption(optionM);



                var echartsN = echarts.init(document.getElementById('tpl-echarts-N'));

                optionN = {
                    title: {
                        text: '上周投标量增长量'
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    toolbox: {
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: ['周一','周二','周三','周四','周五','周六','周日']
                    },
                    yAxis: {
                        type: 'value'
                    },
                    series: [
                        {
                            name:'投标量',
                            type:'line',
                            stack: '总量',
                            data:data.statisticalTender.lastWeek
                        }
                    ]
                };


                echartsN.setOption(optionN);


                window.onresize = function () {
                    // echartsA.resize();
                    // echartsB.resize();
                    echartsC.resize();
                    echartsD.resize();
                    echartsE.resize();
                    //echartsF.resize();
                    echartsG.resize();
                    echartsH.resize();
                    echartsI.resize();
                    echartsJ.resize();
                    echartsK.resize();
                    echartsL.resize();
                    echartsM.resize();
                    echartsN.resize();
                }
                // 往三个表格里面添加数据
                addUserTable(data.User.topTenCity,data.User.topTenBalanceUser);
                addProjectTable(data.statisticalProject.topTenCity,data.statisticalProject.topTenBalanceUser);
                addTenderTable(data.statisticalTender.designName,data.statisticalTender.projectName);
            },
            error : function() {
                layer.msg('请求数据失败!',{icon:5,time:1000},function(){
                });
            }
        });


    });
    function addUserTable(city,balance){
        for(var i = 0; i <= 9;i++){
            var j= i + 1;
            var userHtml =         "       <tr class=\"even gradeC\" >\n" +
                "       <td><span class=\"am-badge am-badge-danger am-radius\">"+j+"</span></td>\n" +
                "       \t<td >"+city[i].name+"</td>\n" +
                "           <td >"+balance[i].username+"</td>\n" +
                "           <td>\n" +
                "               <div class=\"tpl-table-black-operation\">\n" +
                "                   <a href=\"javascript:;\">\n" +
                "                       <i class=\"am-icon-bars\"></i> 查看\n" +
                "                   </a>\n" +
                "               </div>\n" +
                "           </td>\n" +
                "       </tr>\n";
            $("#userTbody").append(userHtml);
        }

    }
    function addProjectTable(city,balance){
        for(var i = 0; i <= 9;i++){
            var j= i + 1;
            var projectHtml =         "       <tr class=\"even gradeC\" >\n" +
                "       <td><span class=\"am-badge am-badge-danger am-radius\">"+j+"</span></td>\n" +
                "       \t<td>"+city[i].name+"</td>\n" +
                "           <td>"+balance[i].username+"</td>\n" +
                "           <td>\n" +
                "               <div class=\"tpl-table-black-operation\">\n" +
                "                   <a href=\"javascript:;\">\n" +
                "                       <i class=\"am-icon-bars\"></i> 查看\n" +
                "                   </a>\n" +
                "               </div>\n" +
                "           </td>\n" +
                "       </tr>\n";
            $("#projectTbody").append(projectHtml);
        }
    }
    function addTenderTable(design,project){
        for(var i = 0; i <= 9;i++){
            var j= i + 1;
            var tenderHtml =         "       <tr class=\"even gradeC\" >\n" +
                "       <td><span class=\"am-badge am-badge-danger am-radius\">"+j+"</span></td>\n" +
                "       \t<td>"+design[i].name+"</td>\n" +
                "           <td>"+project[i].name+"</td>\n" +
                "           <td>\n" +
                "               <div class=\"tpl-table-black-operation\">\n" +
                "                   <a href=\"javascript:;\">\n" +
                "                       <i class=\"am-icon-bars\"></i> 查看\n" +
                "                   </a>\n" +
                "               </div>\n" +
                "           </td>\n" +
                "       </tr>\n";
            $("#tenderTbody").append(tenderHtml);
        }

    }

</script>
</body>
</html>